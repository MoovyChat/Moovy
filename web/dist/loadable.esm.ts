import{R as v,ak as q,al as W}from"./index.js";import{_ as j,b as g,a as N}from"./inheritsLoose.ts";function x(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function V(r,n){if(!r){var a=new Error("loadable: "+n);throw a.framesToPop=1,a.name="Invariant Violation",a}}var F=v.createContext(),G={initialChunks:{}},A="PENDING",J="RESOLVED",k="REJECTED";function B(r){return typeof r=="function"?{requireAsync:r,resolve:function(){},chunkName:function(){}}:r}var H=function(n){var a=function(m){return v.createElement(F.Consumer,null,function(y){return v.createElement(n,Object.assign({__chunkExtractor:y},m))})};return n.displayName&&(a.displayName=n.displayName+"WithChunkExtractor"),a},M=function(n){return n};function D(r){var n=r.defaultResolveComponent,a=n===void 0?M:n,f=r.render,m=r.onLoad;function y(E,l){l===void 0&&(l={});var c=B(E),p={};function b(s){return l.cacheKey?l.cacheKey(s):c.resolve?c.resolve(s):"static"}function S(s,u,o){var t=l.resolveComponent?l.resolveComponent(s,u):a(s);if(l.resolveComponent&&!q.isValidElementType(t))throw new Error("resolveComponent returned something that is not a React component!");return W(o,t,{preload:!0}),t}var R=function(u){var o=b(u),t=p[o];return(!t||t.status===k)&&(t=c.requireAsync(u),t.status=A,p[o]=t,t.then(function(){t.status=J},function(e){console.error("loadable-components: failed to asynchronously load component",{fileName:c.resolve(u),chunkName:c.chunkName(u),error:e&&e.message}),t.status=k})),t},I=function(s){j(u,s),u.getDerivedStateFromProps=function(e,i){var d=b(e);return g({},i,{cacheKey:d,loading:i.loading||i.cacheKey!==d})};function u(t){var e;return e=s.call(this,t)||this,e.state={result:null,error:null,loading:!0,cacheKey:b(t)},V(!t.__chunkExtractor||c.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),t.__chunkExtractor?(l.ssr===!1||(c.requireAsync(t).catch(function(){return null}),e.loadSync(),t.__chunkExtractor.addChunk(c.chunkName(t))),x(e)):(l.ssr!==!1&&(c.isReady&&c.isReady(t)||c.chunkName&&G.initialChunks[c.chunkName(t)])&&e.loadSync(),e)}var o=u.prototype;return o.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===k&&this.setCache(),this.state.loading&&this.loadAsync()},o.componentDidUpdate=function(e,i){i.cacheKey!==this.state.cacheKey&&this.loadAsync()},o.componentWillUnmount=function(){this.mounted=!1},o.safeSetState=function(e,i){this.mounted&&this.setState(e,i)},o.getCacheKey=function(){return b(this.props)},o.getCache=function(){return p[this.getCacheKey()]},o.setCache=function(e){e===void 0&&(e=void 0),p[this.getCacheKey()]=e},o.triggerOnLoad=function(){var e=this;m&&setTimeout(function(){m(e.state.result,e.props)})},o.loadSync=function(){if(this.state.loading)try{var e=c.requireSync(this.props),i=S(e,this.props,h);this.state.result=i,this.state.loading=!1}catch(d){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:c.resolve(this.props),chunkName:c.chunkName(this.props),error:d&&d.message}),this.state.error=d}},o.loadAsync=function(){var e=this,i=this.resolveAsync();return i.then(function(d){var C=S(d,e.props,h);e.safeSetState({result:C,loading:!1},function(){return e.triggerOnLoad()})}).catch(function(d){return e.safeSetState({error:d,loading:!1})}),i},o.resolveAsync=function(){var e=this.props;e.__chunkExtractor,e.forwardedRef;var i=N(e,["__chunkExtractor","forwardedRef"]);return R(i)},o.render=function(){var e=this.props,i=e.forwardedRef,d=e.fallback;e.__chunkExtractor;var C=N(e,["forwardedRef","fallback","__chunkExtractor"]),_=this.state,L=_.error,P=_.loading,$=_.result;if(l.suspense){var U=this.getCache()||this.loadAsync();if(U.status===A)throw this.loadAsync()}if(L)throw L;var w=d||l.fallback||null;return P?w:f({fallback:w,result:$,options:l,props:g({},C,{ref:i})})},u}(v.Component),O=H(I),h=v.forwardRef(function(s,u){return v.createElement(O,Object.assign({forwardedRef:u},s))});return h.displayName="Loadable",h.preload=function(s){h.load(s)},h.load=function(s){return R(s)},h}function z(E,l){return y(E,g({},l,{suspense:!0}))}return{loadable:y,lazy:z}}function Q(r){return r.__esModule?r.default:r.default||r}var K=D({defaultResolveComponent:Q,render:function(n){var a=n.result,f=n.props;return v.createElement(a,f)}}),X=K.loadable,Y=K.lazy,T=D({onLoad:function(n,a){n&&a.forwardedRef&&(typeof a.forwardedRef=="function"?a.forwardedRef(n):a.forwardedRef.current=n)},render:function(n){var a=n.result,f=n.props;return f.children?f.children(a):null}}),Z=T.loadable,ee=T.lazy,te=X;te.lib=Z;var re=Y;re.lib=ee;export{te as l};
