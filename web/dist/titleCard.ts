import{u as j,r as t,a as l,j as o}from"./index.js";import{S as B}from"./catalog.styles.ts";const P=({title:e,parentRef:v,index:r,totalItems:i})=>{const p=j(),c=t.useRef(null),[n,g]=t.useState(!1),T=t.useRef(null),[s,I]=t.useState(0),[N,f]=t.useState(!1),[w,u]=t.useState(!1),[d,y]=t.useState(!1),[h,S]=t.useState(!1),[C,H]=t.useState("");t.useEffect(()=>{var Y,R;const a=(Y=v.current)==null?void 0:Y.offsetWidth,k=(R=c.current)==null?void 0:R.offsetWidth;I(()=>Math.floor(a/k));const M=i%s===0?s:i%s;r%s!==0&&r%s!==1?(u(()=>!1),f(()=>!1)):(r%s===0&&(f(()=>!1),u(()=>!0)),r%s===1&&(f(()=>!0),u(()=>!1))),r<=s?(y(()=>!0),S(()=>!1)):r>i-M&&(y(()=>!1),S(()=>!0));const W=n?N?d?"translateX(-40%) translateY(-30%)":h?"translateX(-40%) translateY(-65%)":"translateX(-40%) translateY(-50%)":w?d?"translateX(-60%) translateY(-30%)":h?"translateX(-60%) translateY(-65%)":"translateX(-60%) translateY(-50%)":d?"translateX(-50%) translateY(-30%)":h?"translateX(-50%) translateY(-70%)":"translateX(-50%) translateY(-50%)":"";H(()=>W)},[v.current,c.current,n]);let m;const X=a=>{a?m=setTimeout(()=>{!n&&g(()=>a)},500):(n&&g(()=>a),m&&clearTimeout(m))};return l(B,{hover:n,ref:c,styledHover:C,onClick:a=>{a.stopPropagation(),e.type==="movie"?p(`/movie/${e.id}`):e.type==="show"&&p(`/show/${e.id}`)},onMouseEnter:()=>X(!0),onMouseLeave:()=>X(!1),children:o("div",{className:"container",ref:T,children:[l("div",{className:"title-bg",children:l("img",{src:e.artwork,alt:"title",loading:"lazy"})}),n&&o("div",{className:"info",children:[l("div",{className:"title",children:e.title}),o("div",{className:"title-attr",children:[l("div",{children:e.type}),e.year!==0&&l("div",{children:e.year}),o("div",{children:["Rating: ",e.rating]}),e.runtime!==0&&o("div",{children:[Math.round(e.runtime/60)," min"]})]})]})]})})};export{P as T};
